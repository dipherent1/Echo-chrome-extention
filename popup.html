<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Echo - The Logger</title>
    <link rel="stylesheet" href="popup.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="brand">
        <div class="brand-icon">ğŸ“¡</div>
        <span class="brand-name">Echo</span>
        <span class="brand-version" id="version">v2.1.0</span>
      </div>
      <div class="status-indicator" id="statusIndicator">
        <div class="status-dot checking" id="statusDot"></div>
        <span id="statusText">Checking...</span>
      </div>
    </header>

    <!-- Tab Navigation -->
    <nav class="tab-nav">
      <button class="tab-btn active" data-tab="activity">ğŸ“Š Activity</button>
      <button class="tab-btn" data-tab="settings">âš™ï¸ Settings</button>
    </nav>

    <!-- Activity Tab -->
    <div class="tab-content active" id="activity-tab">
      <!-- API Key Config -->
      <section class="config-section">
        <div class="input-group">
          <div class="input-wrapper">
            <input
              type="password"
              id="apiKey"
              class="api-input"
              placeholder="Enter your API key..."
              autocomplete="off"
            />
            <button
              class="toggle-visibility"
              id="toggleVisibility"
              title="Toggle visibility"
            >
              ğŸ‘
            </button>
          </div>
          <button class="btn btn-primary" id="saveBtn">Save</button>
        </div>
      </section>

      <!-- Stats Bar -->
      <div class="stats-bar">
        <div class="stat-item">
          <span>Buffer:</span>
          <span class="stat-value" id="bufferCount">0</span>
        </div>
        <div class="stat-item">
          <span>Network:</span>
          <span class="stat-value" id="networkStatus">--</span>
        </div>
      </div>

      <!-- Logs Section -->
      <section class="logs-section">
        <div class="logs-header">
          <span class="logs-title">Buffered Activity</span>
          <span class="logs-count" id="logsCount">0 items</span>
        </div>
        <div class="log-container" id="logContainer">
          <!-- Logs will be rendered here -->
        </div>
      </section>

      <!-- Footer Actions -->
      <footer class="footer">
        <button class="btn btn-sync" id="syncBtn">
          <span id="syncBtnText">âš¡ Force Sync</span>
        </button>
        <button class="btn btn-clear" id="clearBtn">ğŸ—‘ Clear</button>
      </footer>
    </div>

    <!-- Settings Tab -->
    <div class="tab-content" id="settings-tab">
      <!-- Blocked Domains Section -->
      <section class="settings-section">
        <div class="settings-header">
          <h3 class="settings-title">ğŸš« Blocked Domains</h3>
          <span class="settings-subtitle"
            >Sites that will never be tracked</span
          >
        </div>
        <div class="tag-input-container">
          <div class="tag-list" id="blockedDomainsList">
            <!-- Tags rendered here -->
          </div>
          <div class="input-group">
            <input
              type="text"
              id="newBlockedDomain"
              class="settings-input"
              placeholder="e.g., facebook.com"
            />
            <button class="btn btn-primary btn-sm" id="addBlockedDomainBtn">
              + Add
            </button>
          </div>
        </div>
      </section>

      <!-- Sensitive Params Section -->
      <section class="settings-section">
        <div class="settings-header">
          <h3 class="settings-title">ğŸ”’ Sensitive URL Parameters</h3>
          <span class="settings-subtitle">Parameters to redact from URLs</span>
        </div>
        <div class="tag-input-container">
          <div class="tag-list" id="sensitiveParamsList">
            <!-- Tags rendered here -->
          </div>
          <div class="input-group">
            <input
              type="text"
              id="newSensitiveParam"
              class="settings-input"
              placeholder="e.g., api_secret"
            />
            <button class="btn btn-primary btn-sm" id="addSensitiveParamBtn">
              + Add
            </button>
          </div>
        </div>
      </section>

      <!-- Reset Section -->
      <section class="settings-section settings-danger">
        <div class="settings-header">
          <h3 class="settings-title">âš ï¸ Reset Custom Settings</h3>
          <span class="settings-subtitle"
            >Clear all custom blocked domains and params</span
          >
        </div>
        <button class="btn btn-danger" id="resetSettingsBtn">
          Reset to Defaults
        </button>
      </section>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script src="popup.js"></script>
  </body>
</html>
